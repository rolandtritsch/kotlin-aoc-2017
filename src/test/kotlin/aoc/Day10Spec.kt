package aoc.day10

import io.kotlintest.*
import io.kotlintest.specs.ShouldSpec

class Day10Spec : ShouldSpec({
  "knot()" should {
    "solve the test hashes" {
      val seed = Day10.Hash((0..4).toList(), 0, 0)
      Day10.knot(listOf(3), seed).hash shouldBe listOf(2, 1, 0, 3, 4)
      Day10.knot(listOf(3, 4), seed).hash shouldBe listOf(4, 3, 0, 1, 2)
      Day10.knot(listOf(3, 4, 1), seed).hash shouldBe listOf(4, 3, 0, 1, 2)
      Day10.knot(listOf(3, 4, 1, 5), seed).hash shouldBe listOf(3, 4, 2, 1, 0)
    }

    "solve the input hash" {
      Day10.knot(Day10.input2Lengths(Day10.input), Day10.seed).hash shouldBe listOf(121, 34, 35, 36, 37, 38, 39, 40, 41, 126, 125, 243, 242, 241, 240, 239, 215, 216, 79, 80, 81, 82, 83, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 214, 213, 212, 211, 210, 209, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 33, 32, 31, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 85, 84, 57, 55, 56, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 70, 69, 217, 78, 77, 76, 75, 74, 73, 72, 71, 128, 127, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 255, 254, 253, 252, 251, 250, 249, 248, 247, 246, 245, 244, 124, 123, 122)
    }
  }

  "solve()" should {
    "part1" {
      Day10.Part1.solve(Day10.input).first shouldBe 4114
    }
    "part2" {
      Day10.Part2.solve(Day10.input).first shouldBe "2f8c3d2100fdd57cec130d928b0fd2dd"
    }
  }
})
